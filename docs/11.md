# ë¡œê¹…

ì˜ë¯¸ìˆëŠ” ë¡œê·¸ í•˜ë‚˜í•˜ë‚˜ê°€ í›„ì— í¬ê²Œ ë„ì›€ì´ ëœë‹¤. ê²ªì–´ë³´ë‹ˆ ì•Œê² ë‹¤. ë‹¨ë…ì ìœ¼ë¡œ í•„ìš”í•œ ì •ë³´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¡œê·¸ëŠ” ì‹œìŠ¤í…œì´ ëŒì•„ê°€ëŠ” ê²ƒì„ íŒŒì•…í•˜ê¸° í›¨ì”¬ ì‰½ê²Œ ë„ì™€ì¤€ë‹¤.

ê·¸ë ‡ë‹¤ë©´ Nestì˜ ë‚´ì¥ë¡œê±°ë¥¼ ì•Œì•„ë³´ê³  [nest-winston](https://github.com/gremo/nest-winston) ì‚¬ìš©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì.

## 11.1 ë‚´ì¥ ë¡œê±°

```log
[3:04:31 AM] File change detected. Starting incremental compilation...

[3:04:31 AM] Found 0 errors. Watching for file changes.

[Nest] 34639  - 07/26/2023, 3:04:31 AM     LOG [NestFactory] Starting Nest application...
[Nest] 34639  - 07/26/2023, 3:04:31 AM     LOG [InstanceLoader] AppModule dependencies initialized +24ms
(ìƒëµ)
[Nest] 34639  - 07/26/2023, 3:04:32 AM     LOG [RoutesResolver] UsersController {/users}: +5ms
[Nest] 34639  - 07/26/2023, 3:04:32 AM     LOG [RouterExplorer] Mapped {/users, POST} route +1ms
(ìƒëµ)
[Nest] 34639  - 07/26/2023, 3:04:32 AM     LOG [NestApplication] Nest application successfully started +1ms
```

ë‚´ì¥ Logger í´ë˜ìŠ¤ëŠ” `@nest/common` íŒ¨í‚¤ì§€ë¡œ ì œê³µëœë‹¤. ë¡œê¹… ì˜µì…˜ì„ ì¡°ì ˆí•˜ë©´ ì•„ë˜ì™€ê°™ì€ ì œì–´ê°€ ê°€ëŠ¥í•˜ë‹¤

- ë¡œê¹… ë¹„í™œì„±í™”
- ë¡œê·¸ ë ˆë²¨ ì§€ì •
    - log, error, warn, debug, verbose
- ë¡œê±° íƒ€ì„ìŠ¤íƒ¬í”„ ì¬ì •ì˜. E.g., ISO 8601 ìŠ¤íƒ€ì¼
- ê¸°ì¡´ ë¡œê±° ì¬ì •ì˜
- ì»¤ìŠ¤í…€ ë¡œê±° ì‘ì„±
- ì˜ì¡´ì„± ì£¼ì…ì„ í†µí•œ ë¡œê±° ì£¼ì… ë° í…ŒìŠ¤íŠ¸ ëª¨ë“ˆë¡œ ì œê³µ

ë‚´ì¥ ë¡œê±° ì¸ìŠ¤í„´ìŠ¤ ìƒì„± í›„, í”„ë¡œê·¸ë¨ ë‚´ì—ì„œ ë¡œê·¸ë¥¼ ì°ì„ ìˆ˜ ìˆë‹¤. ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì§œë©´

```ts
import { Injectable, Logger } from '@nestjs/common';

@Injectable()
export class AppService {
  private readonly logger = new Logger(AppService.name);

  getHello(): string {
    this.logger.error('level: error');
    this.logger.warn('level: warn');
    this.logger.log('level: log');
    this.logger.verbose('level: verbose');
    this.logger.debug('level: debug');

    return "aa";
  }
}
```

...ì´ëŸ° ë¡œê·¸ê°€ ì°íŒë‹¤.

```log
[Nest] 41964  - 07/26/2023, 3:47:08 AM   ERROR [AppService] level: error
[Nest] 41964  - 07/26/2023, 3:47:08 AM    WARN [AppService] level: warn
[Nest] 41964  - 07/26/2023, 3:47:08 AM     LOG [AppService] level: log
[Nest] 41964  - 07/26/2023, 3:47:08 AM VERBOSE [AppService] level: verbose
[Nest] 41964  - 07/26/2023, 3:47:08 AM    WARN [AppService] level: debug
```

### 11.1.1 ë¡œê¹… ë„ê¸°

ë¡œê¹… ë¹„í™œì„±í™”ëŠ” `NestFactory.create` ì‚¬ìš© ì‹œ `logger: false` ë¼ëŠ” ì˜µì…˜ìœ¼ë¡œ ê°€ëŠ¥í•˜ë‹¤.

```ts
async function bootstrap() {
  const app = await NestFactory.create(AppModule, {
    logger: false,
  });
  await app.listen(3000);
}
bootstrap();
```

### 11.1.2 ë¡œê·¸ ë ˆë²¨ ì§€ì •

í”„ë¡œë•ì…˜ì—ì„œëŠ” debug ë¡œê·¸ê¹Œì§€ ë‚¨ê¸°ì§€ ì•ŠëŠ” í¸ì´ ì¢‹ë‹¤. ë””ë²„ê·¸ ë¡œê·¸ë¥¼ ì°ë‹¤ë³´ë©´, ìì—°ìŠ¤ëŸ½ê²Œ ë¯¼ê°ì •ë³´ë„ ê°™ì´ ì°í ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

ì‹¤í–‰í™˜ê²½ì— ë”°ë¼ ë¡œê·¸ ë ˆë²¨ì„ ì§€ì •í•˜ëŠ” ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤:

```ts
async function bootstrap() {
  const app = await NestFactory.create(AppModule, {
    logger: process.env.NODE_ENV === 'production'
    ? ['error', 'warn', 'log']
    : ['error', 'warn', 'log', 'verbose', 'debug'],
  });
  await app.listen(3000);
}
bootstrap();
```

> ğŸ… notes!
>
> ë¡œê·¸ ë ˆë²¨ì„ í•˜ë‚˜ë§Œ ì§€ì •í•˜ë©´, ê·¸ ê°’ë³´ë‹¤ ìƒìœ„ ë ˆë²¨ì˜ ë¡œê·¸ëŠ” ëª¨ë‘ ì°ëŠ”ë‹¤.
>
> 0ì´ debugì´ê³  1ì´ verbose, 2, 3, 4ëŠ” ê°ê° log/warn/error ì´ë‹¤.

## 11.2 ì»¤ìŠ¤í…€ ë¡œê±°

ë‚´ì¥ ë¡œê±°ëŠ” ë¡œê·¸ íŒŒì¼ë¡œ ë–¨ì–´ëœ¨ë¦¬ê±°ë‚˜, DBë¡œ ì €ì¥í•´ì£¼ëŠ” ê¸°ëŠ¥ì´ ì—†ë‹¤. í•„ìš”í•˜ë©´ êµ¬í˜„í•´ì•¼í•œë‹¤. `@nestjs/common` íŒ¨í‚¤ì§€ì˜ `LoggerService` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.

> `@nestjs/common` íŒ¨í‚¤ì§€ì˜ `LoggerService` ì¸í„°í˜ì´ìŠ¤

```ts
export interface LoggerService {
  log(message: any, ...optionalParamas: any[]): any;
  error(message: any, ...optionalParamas: any[]): any;
  warn(message: any, ...optionalParamas: any[]): any;
  debug?(message: any, ...optionalParamas: any[]): any;
  verbose?(message: any, ...optionalParamas: any[]): any;
  setLogLevels?(levels: LogLevel[]): any;
}
```

> ì»¤ìŠ¤í…€ ë¡œê±° `MyLogger`ë¥¼ ë§Œë“¤ì–´ë´…ì‹œë‹¤:

```ts
export class MyLogger implements LoggerService {
  log(message: any, ...optionalParamas: any[]): {
    console.log(message);
  }
  error(message: any, ...optionalParamas: any[]): {
    console.log(message);
  }
  warn(message: any, ...optionalParamas: any[]): {
    console.log(message);
  }
  debug(message: any, ...optionalParamas: any[]): {
    console.log(message);
  }
  verbose(message: any, ...optionalParamas: any[]): {
    console.log(message);
  }
}
```

...ì´ëŸ¬ë©´ ê·¸ëƒ¥ í…ìŠ¤íŠ¸ë§Œ ë‚˜ì˜¤ë‹ˆ, `ConsoleLogger`ë¥¼ ìƒì†ë°›ëŠ” í¸ì´ ë³´ë‹¤ ë‚«ë‹¤.

```ts
export class MyLogger implements ConsoleLogger {
  error(message: any, stack?: string, context?: string) {
    super.error.apply(this, arguments);
    this.doSomething();
  }

  private doSomething() {
    // ë¡œê¹…ê´€ë ¨ ì¶”ê°€ì‘ì—… ì‹¤ì‹œ
    // E.g., DBì— ì €ì¥, fluentd ì— ì „ì†¡ ë“±
  }
}
```

### 11.2.1 ì»¤ìŠ¤í…€ ë¡œê±°ë¥¼ ì£¼ì…í•˜ì—¬ ì‚¬ìš©í•˜ê¸°

1. ë¡œê±° ëª¨ë“ˆ ë§Œë“¤ê¸°(`@Modules`ì˜ `providers`, `exports` ê¸°ì¬)

```ts
import { Module } from '@nestjs/common';
import { MyLogger } from './my-logger.service';

@Module({
  providers: [MyLogger],
  exports: [MyLogger],
})
export class LoggerModule { }
```


2. AppModuleì— ì¶”ê°€(`@Modules` ì˜ `imports` ì— ê¸°ì¬)ì‹œí‚¤ê¸°

### 11.2.2 ì»¤ìŠ¤í…€ ë¡œê±°ë¥¼ ì „ì—­ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°

`main.ts`ì— ì§€ì •í•´ì£¼ê¸°

```ts
async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  app.useLogger(app.get(MyLogger));
  await app.listen(3000);
}
```

### 11.2.3 ì™¸ë¶€ ë¡œê±° ì‚¬ìš©í•˜ê¸°

ìƒìš© í”„ë¡œì íŠ¸ë©´ ë³´ë‹¤ ì •êµí•œ ì„œë¹„ìŠ¤ë¥¼ ì“°ëŠ”ê²Œ ë§ë‹¤. Node.js ì§„ì˜ì€ [Winston](https://github.com/winstonjs/winston) (ë¡œê¹… ë¼ì´ë¸ŒëŸ¬ë¦¬)ì´ ìˆê³ , ì´ê±¸ ë‹¤ë“¬ì–´ì„œ ì“°ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤

## 11.3 ìœ ì € ì„œë¹„ìŠ¤ì— `winston` ë¡œê±° ì ìš©í•˜ê¸°

ë³¸ êµì¬ì—ì„œëŠ” ìƒê¸° Winstonì„ ë‹¤ë“¬ì€ [nest-winston](https://github.com/gremo/nest-winston) ì„ ì‚¬ìš©í•œë‹¤.

### 11.3.1 `nest-winston` ì ìš©í•˜ê¸°

ìš°ì„  ì„¤ì¹˜ë¶€í„°...

> `npm i nest-winston winston`

ê·¸ í›„ `AppModule`ì— `WinstonModule`ì„ ì¶”ê°€. ì¶”ê°€ ì‹œ ì˜µì…˜ ë¶€ì—¬ ê°€ëŠ¥

> `src/app.module.ts`

```ts
import * as winston from 'winston';
import {
  utilities as nestWinstonModuleUtilities,
  WinstonModule,
} from 'nest-winston';

(ìƒëµ)

@Module({
  imports: [
    (ìƒëµ)
    WinstonModule.forRoot({
      transports: [
        new winston.transports.Console({
          level: process.env.NODE_ENV === 'production' ? 'info' : 'silly',
          format: winston.format.combine(
            winston.format.timestamp(),
            nestWinstonModuleUtilities.format.nestLike('MyApp', { prettyPrint: true }),
          )
        })
      ]
    })
  ],
  (ìƒëµ)
})
export class AppModule {}
```

- transport ì˜µì…˜ì„ ì„¤ì •í•˜ì—¬ ì•„ë˜ ì‚¬í•­ì— ëŒ€í•´ ì»¨íŠ¸ë¡¤í•¨
    - ë¡œê·¸ ë ˆë²¨ì„ ê°œë°œí™˜ê²½ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì°ë„ë¡ ì„¤ì •
    - ë¡œê·¸ë¥¼ ë‚¨ê¸´ ì‹œê°„ì„ í‘œì‹œ
    - ì–´ë””ì—ì„œ ë¡œê·¸ë¥¼ ë‚¨ê²¼ëŠ”ì§€ êµ¬ë¶„í•˜ëŠ” appName('myApp'), ë¡œê·¸ í¬ë§·íŒ… ì˜µì…˜ ë¶€ì—¬

ë¡œê·¸ë¥¼ ì°ì„ ë•ŒëŠ” `WINSTON_MODULE_PROVIDER` í† í°ìœ¼ë¡œ winstonì˜ `Logger` ê°ì²´ë¥¼ ì£¼ì….

> `src/users/users.controller.ts`

```ts
import { Logger as WinstonLogger } from 'winston';
import { WINSTON_MODULE_PROVIDER } from 'nest-winston';

export class UsersController {
  constructor(
    @Inject(WINSTON_MODULE_PROVIDER) private readonly logger: WinstonLogger,
  ) {}

  (ìƒëµ)

  private printWinstonLog(dto) {
    // console.log(this.logger.name);

    this.logger.error('error: ', dto);
    this.logger.warn('warn: ', dto);
    this.logger.info('info: ', dto);
    this.logger.http('http: ', dto);
    this.logger.verbose('verbose: ', dto);
    this.logger.debug('debug: ', dto);
    this.logger.silly('silly: ', dto);
  }
}
```

ê·¸ëŸ¬ë©´ ì•„ë˜ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë¡œê·¸ê°€ ì°íŒë‹¤!

```log
(ìƒëµ)
[MyApp] Error   7/27/2023, 5:40:49 AM error:  - { name: 's3ich4n', email: 's3ich4n@gmail.com', password: '1q2w3e4r!@' }
[MyApp] Warn    7/27/2023, 5:40:49 AM warn:  - { name: 's3ich4n', email: 's3ich4n@gmail.com', password: '1q2w3e4r!@' }
[MyApp] Info    7/27/2023, 5:40:49 AM info:  - { name: 's3ich4n', email: 's3ich4n@gmail.com', password: '1q2w3e4r!@' }
[MyApp] Http    7/27/2023, 5:40:49 AM http:  - { name: 's3ich4n', email: 's3ich4n@gmail.com', password: '1q2w3e4r!@' }
[MyApp] Verbose 7/27/2023, 5:40:49 AM verbose:  - { name: 's3ich4n', email: 's3ich4n@gmail.com', password: '1q2w3e4r!@' }
[MyApp] Debug   7/27/2023, 5:40:49 AM debug:  - { name: 's3ich4n', email: 's3ich4n@gmail.com', password: '1q2w3e4r!@' }
[MyApp] Silly   7/27/2023, 5:40:49 AM silly:  - { name: 's3ich4n', email: 's3ich4n@gmail.com', password: '1q2w3e4r!@' }
```

### 11.3.2 ë‚´ì¥ ë¡œê±° ëŒ€ì²´í•˜ê¸°

`nest-winston`ì€ LoggerServiceë¥¼ êµ¬í˜„í•œ `WinstonLogger` í´ë˜ìŠ¤ë¥¼ ì œê³µí•œë‹¤. Nestê°€ ì‹œìŠ¤í…œ ë¡œê¹… ì‹œ í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ì´ìš©í•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.

ì´ ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ Nest ì‹œìŠ¤í…œì—ì„œ ì¶œë ¥í•˜ëŠ” ë¡œê·¸ì™€, ì¶œë ¥í•˜ê³ ì í•˜ëŠ” ë¡œê·¸ì˜ í˜•ì‹ì„ ë™ì¼í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.

ì´ë¥¼ í•˜ë ¤ë©´ ë¨¼ì € `main.ts`ì— `nest-winston` ì„ ì „ì—­ë¡œê±°ë¡œ ì„¤ì •í•œë‹¤.

> `src/main.ts`

```ts
import { WINSTON_MODULE_NEST_PROVIDER } from 'nest-winston';

async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  app.useLogger(app.get(WINSTON_MODULE_NEST_PROVIDER));
  await app.listen(3000);
}
bootstrap();
```

ë¡œê¹…ì„ í•˜ë ¤ëŠ” ê³³ì— `LoggerService`ë¥¼ `WINSTON_MODULE_NEST_PROVIDER` í† í°ìœ¼ë¡œ ì£¼ì…í•œë‹¤.

> `src/users/users.controller.ts`

```ts
import {
  LoggerService,
} from '@nestjs/common';

import { WINSTON_MODULE_NEST_PROVIDER } from 'nest-winston';

import {
  Body,
  Controller,
  Get,
  HttpCode,
  LoggerService,
  Post,
  Param,
  Query,
  UseGuards,
  ValidationPipe,
  Inject,
  InternalServerErrorException,
} from '@nestjs/common';

import { WINSTON_MODULE_NEST_PROVIDER } from 'nest-winston';

import { AuthGuard } from 'src/auth.guard';
import { CreateUserDto } from './dto/create-user.dto';
import { UserLoginDto } from './dto/user-login.dto';
import { UserInfo } from './UserInfo';
import { UsersService } from './users.service';
import { VerifyEmailDto } from './dto/verify-email.dto';


@Controller('users')
export class UsersController {
  constructor(
    @Inject(WINSTON_MODULE_NEST_PROVIDER) private readonly logger: LoggerService,
  ) {}

  @Post()
  async createUser(@Body(ValidationPipe) dto: CreateUserDto): Promise<void> {
    this.printLoggerServiceLog(dto);

    const { name, email, password } = dto;
    await this.usersService.createUser(name, email, password);
  }

  private printLoggerServiceLog(dto) {
    try {
      throw new InternalServerErrorException('test');
    } catch (e) {
      this.logger.error('error: ' + JSON.stringify(dto), e.stack);
    }

    this.logger.warn('warn: ' + JSON.stringify(dto));
    this.logger.log('log: ' + JSON.stringify(dto));
    this.logger.verbose('verbose: ' + JSON.stringify(dto));
    this.logger.debug('debug: ' + JSON.stringify(dto));
  }
}

```

ë¡œê·¸ëŠ” ì´ëŸ°ì‹ìœ¼ë¡œ ì˜ ì°í˜€ì ¸ë‚˜ì˜¨ë‹¤!

```log
[MyApp] Error   7/27/2023, 6:03:25 AM error: {"name":"s3ich4n","email":"s3ich4n@gmail.com","password":"1q2w3e4r!@"} - {
  stack: [
    'InternalServerErrorException: test\n' +
      '    at UsersController.printLoggerServiceLog (/home/l4in/study/node/nest-tutorials/src/users/users.controller.ts:65:13)\n' +
      '    at UsersController.createUser (/home/l4in/study/node/nest-tutorials/src/users/users.controller.ts:35:10)\n' +
      '    at /home/l4in/study/node/nest-tutorials/node_modules/@nestjs/core/router/router-execution-context.js:38:29\n' +
      '    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
      '    at /home/l4in/study/node/nest-tutorials/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n' +
      '    at /home/l4in/study/node/nest-tutorials/node_modules/@nestjs/core/router/router-proxy.js:9:17'
  ]
}
[MyApp] Warn    7/27/2023, 6:03:25 AM warn: {"name":"s3ich4n","email":"s3ich4n@gmail.com","password":"1q2w3e4r!@"} - {}
[MyApp] Info    7/27/2023, 6:03:25 AM log: {"name":"s3ich4n","email":"s3ich4n@gmail.com","password":"1q2w3e4r!@"} - {}
[MyApp] Verbose 7/27/2023, 6:03:25 AM verbose: {"name":"s3ich4n","email":"s3ich4n@gmail.com","password":"1q2w3e4r!@"} - {}
[MyApp] Debug   7/27/2023, 6:03:25 AM debug: {"name":"s3ich4n","email":"s3ich4n@gmail.com","password":"1q2w3e4r!@"} - {}
```

### 11.3.3 ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘ê¹Œì§€ ë‚´ì¥ ë¡œê±°ë¥¼ ëŒ€ì²´í•˜ê¸°

Nest ì•± ìƒì„± ë‹¨ê³„ë¶€í„° `NestFactory.create()` ì˜ ì•„ê·œë¨¼íŠ¸ë¡œ ì „ë‹¬í•´ì•¼í•¨.

`src/app.module.ts`ì— ìˆë˜ import ë‚´ìš©ê³¼ ë¡œê±° ìƒì„± ë‚´ìš©ì„ ì „ë¶€ ë“¤ê³ ì˜¤ì.

```ts
import { NestFactory } from '@nestjs/core';

import * as winston from 'winston';
import {
  utilities as nestWinstonModuleUtilities,
  WinstonModule,
} from 'nest-winston';

import { AppModule } from './app.module';

async function bootstrap() {
  const app = await NestFactory.create(AppModule, {
      logger: WinstonModule.createLogger({
        transports: [
          new winston.transports.Console({
            level: process.env.NODE_ENV === 'production' ? 'info' : 'silly',
            format: winston.format.combine(
              winston.format.timestamp(),
              nestWinstonModuleUtilities.format.nestLike('MyApp', { prettyPrint: true }),
            ),
          })
        ]
      })
    });
  await app.listen(3000);
}
bootstrap();
```

ë¡œê·¸ë¥¼ ë‚¨ê¸¸ ëª¨ë“ˆì— Logger ì„œë¹„ìŠ¤ë¥¼ í”„ë¡œë°”ì´ë”ë¡œ ì„ ì–¸í•¨. 

> `src/users/users.module.ts`

```ts
import {
  Logger,
  Module,
} from '@nestjs/common';

@Module({
  (ìƒëµ)
  providers: [
    Logger,
  ],
})
export class UsersModule {}
```

ì´ëŸ¬ë©´ ë¡œê·¸ë„ ì›í•˜ëŠ” ëŒ€ë¡œ ì°íˆê³ , ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘ ì½”ë“œë„ ì›í•˜ëŠ”ëŒ€ë¡œ ë‚˜ì˜¨ë‹¤.

```log
[6:15:44 AM] Starting compilation in watch mode...

[6:15:46 AM] Found 0 errors. Watching for file changes.

[MyApp] Info    7/27/2023, 6:15:46 AM [NestFactory] Starting Nest application... - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [InstanceLoader] AppModule dependencies initialized - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [InstanceLoader] TypeOrmModule dependencies initialized - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [InstanceLoader] ConfigHostModule dependencies initialized - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [InstanceLoader] EmailModule dependencies initialized - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [InstanceLoader] AuthModule dependencies initialized - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [InstanceLoader] ConfigModule dependencies initialized - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [InstanceLoader] TypeOrmCoreModule dependencies initialized - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [InstanceLoader] TypeOrmModule dependencies initialized - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [InstanceLoader] UsersModule dependencies initialized - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [RoutesResolver] UsersController {/users}: - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [RouterExplorer] Mapped {/users, POST} route - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [RouterExplorer] Mapped {/users/email-verify, POST} route - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [RouterExplorer] Mapped {/users/login, POST} route - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [RouterExplorer] Mapped {/users/:id, GET} route - {}
[MyApp] Info    7/27/2023, 6:15:46 AM [NestApplication] Nest application successfully started - {}
[MyApp] Error   7/27/2023, 6:15:49 AM error: {"name":"s3ich4n","email":"s3ich4n@gmail.com","password":"1q2w3e4r!@"} - {
  stack: [
    'InternalServerErrorException: test\n' +
      '    at UsersController.printLoggerServiceLog (/home/l4in/study/node/nest-tutorials/src/users/users.controller.ts:64:13)\n' +
      '    at UsersController.createUser (/home/l4in/study/node/nest-tutorials/src/users/users.controller.ts:34:10)\n' +
      '    at /home/l4in/study/node/nest-tutorials/node_modules/@nestjs/core/router/router-execution-context.js:38:29\n' +
      '    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
      '    at /home/l4in/study/node/nest-tutorials/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n' +
      '    at /home/l4in/study/node/nest-tutorials/node_modules/@nestjs/core/router/router-proxy.js:9:17'
  ]
}
[MyApp] Warn    7/27/2023, 6:15:49 AM warn: {"name":"s3ich4n","email":"s3ich4n@gmail.com","password":"1q2w3e4r!@"} - {}
[MyApp] Info    7/27/2023, 6:15:49 AM log: {"name":"s3ich4n","email":"s3ich4n@gmail.com","password":"1q2w3e4r!@"} - {}
[MyApp] Verbose 7/27/2023, 6:15:49 AM verbose: {"name":"s3ich4n","email":"s3ich4n@gmail.com","password":"1q2w3e4r!@"} - {}
[MyApp] Debug   7/27/2023, 6:15:49 AM debug: {"name":"s3ich4n","email":"s3ich4n@gmail.com","password":"1q2w3e4r!@"} - {}
```

### 11.3.4 ë¡œê·¸ ì „ì†¡ì„ ë‹¤ì–‘í•˜ê²Œ

ì´ëŸ° ì‹ìœ¼ë¡œ ë°”ê¾¼ ë¡œê·¸ë¥¼ ìœ ë£Œ ì„œë¹„ìŠ¤ë¡œ ë°”ë¡œ ì  ìˆ˜ ìˆë„ë¡ í•˜ê±°ë‚˜, `fluentbit` ì—ì„œ ì•Œì•„ì„œ ì˜ íŒŒì‹±í•´ê°€ë„ë¡ ë‹¤ë“¬ìœ¼ë©´ ë¡œê·¸ ì¤‘ì•™í™”ê°€ ë  ê²ƒì´ë‹¤.

[ì´ëŸ° ì˜ìƒ](https://www.youtube.com/watch?v=3ELc1helke4)ì„ ë³´ê³  ë¡œê·¸ ì¤‘ì•™í™”ì— ëŒ€í•œ ì¤‘ìš”ì„±ì„ ë¨¼ì € ìºì¹˜í•œ í›„, ê´€ë ¨ ë°©ì•ˆì„ ì˜ ì„¤ê³„í•´ì„œ í…ŒìŠ¤íŠ¸í•´ë³´ì.

ì¼ë‹¨ ì±… ë–¼ê³  í”„ë¡œì íŠ¸ í•´ë³´ë©´ì„œ ì‘ì—…í•˜ë©´ ë  ê²ƒì´ë‹¤...
